**不允许未加密的数据库**

![image-20241020103426861](./img/image-20241020103426861.png)

拍摄快照

![image-20241020105241843](./img/image-20241020105241843.png)

进入复制快照并启用加密

![image-20241020105325733](./img/image-20241020105325733.png)

# 完成任务演练。

## 创建现有数据库的快照

1. 在 AWS 控制台中，导航到 RDS 服务并在左侧导航部分中选择**数据库。**
2. 记下实例大小 (db.t3.micro)。稍后还原加密快照时您将需要此信息。
3. 单击数据库旁边的单选按钮，然后从操作下拉菜单中选择**拍摄快照。**
4. 在“拍摄数据库快照”屏幕上，输入快照的名称，然后选择“**拍摄快照”**。

等待快照创建完成。这应该需要 2-5 分钟才能完成，但最多可能需要 10-15 分钟。

## 创建快照的加密副本

1. 在 RDS > 快照屏幕中，单击新快照旁边的复选框，然后从操作下拉菜单中选择**复制快照。**
2. 输入新的加密数据库快照的名称。
3. 选择**启用加密**。
4. 将所有其他参数保留为默认设置，然后单击**“复制快照”**。

等待加密快照创建完成。这应该需要 2-5 分钟才能完成，但最多可能需要 10-15 分钟。

## 恢复加密快照

1. 在 RDS > 快照屏幕中，单击加密快照旁边的复选框，然后从操作下拉菜单中选择**恢复快照。**
2. 输入新数据库实例的名称。
3. 在 DB 实例类下，选择可突发类（包括 t 类）并选择**db.t3.micro**。
4. 将所有其他数据库参数保留为默认设置，然后单击**“恢复数据库实例”**。

您将被重定向到 RDS > 数据库屏幕，并看到正在创建新数据库。这将需要大约 10-15 分钟才能完成。完成后，挑战就完成了。

## 故障排除

- 确保在创建快照副本时选中“启用加密”框。
- 确保在恢复数据库时选择加密快照。要验证，请将窗口滚动到右侧并找到加密参数，然后确认其显示为是。
- 确保在恢复时选择**db.t3.micro** DB 实例类。
- 要有耐心。拍摄快照、复制快照和恢复快照都需要时间。去喝点水，稍事休息，然后回来验证挑战是否完成。