您的 AWS 账户具有以下资源：

- 数据湖 S3 存储桶包含数百个使用默认 S3 加密密钥加密的对象。
- 必须使用客户管理的 KMS 密钥来静态加密数据湖中的所有当前和未来对象。您可以在“输出属性”部分中找到密钥 ID。
- [S3 库存](https://docs.aws.amazon.com/AmazonS3/latest/dev/storage-inventory.html)文件。针对此挑战，我们为您预先创建了一个库存 CSV 文件。
- 修复加密错误时可以使用且应该使用的 IAM 角色 (FixEncryptionRole)。**注意：**您不需要承担此角色。

### 要求

您的工作是通过以下方式使您的数据湖符合政策：

1. 使用可扩展的方法，通过客户管理的 KMS 密钥加密数据湖中的现有对象。
2. 配置数据湖 S3 存储桶，以便新对象默认使用客户管理的 KMS 密钥加密。

### 建议

- 确保按要求完成上述要求，**以便**
- 虽然 S3 控制台允许您更改少量对象的加密，但此方法无法扩展到数百万或数十亿个对象。如果您不使用可扩展的方法来加密对象，质询验证将不会授予满分。
- 确保您使用的是生成的 KMS 密钥而不是 S3 KMS 密钥
- 完成任务后，点击**“检查我的进度”**即可确认您已完成挑战

### 有用的链接

以下几个链接可以帮助您应对挑战：

- [S3 批量操作](https://docs.aws.amazon.com/AmazonS3/latest/user-guide/batch-ops.html)
- [Amazon S3 存储桶的默认加密](https://docs.aws.amazon.com/AmazonS3/latest/dev/bucket-encryption.html)